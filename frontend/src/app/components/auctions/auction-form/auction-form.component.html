<form id="form" novalidate [formGroup]="form" (ngSubmit)="saveAuction()">
  <div class="modal-header" style="border-bottom-width: 1px">
    <h4 class="modal-title pull-left">Create an auction</h4>
    <button type="button" class="close pull-right" (click)="onModalClose()" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="form-row">
      <div class="form-group col-md-6">
        <label for="inputName">Item name *</label>
        <input type="text" class="form-control" id="inputName" placeholder="Item Name" [formControl]="nameForm">
        <small class="text-danger" *ngIf="nameForm.invalid && nameForm.dirty">{{getErrorMessage()}}</small>
      </div>
      <div class="form-group col-md-6">
        <label for="inputCategory">Category *</label>
        <select class="form-control selector mr-sm-2" id="inputCategory" [formControl]="categoryForm">
          <option *ngFor="let cat of categories" [value]="cat">
            {{cat}}
          </option>
        </select>
      </div>
    </div>
    <div class="form-row">
      <div class="form-group col-md-6">
        <label for="inputStart">Start time *</label>
        <div class="form-row" id="inputStart">
          <div class="form-group col-6">
            <div class="input-group">
              <input class="form-control" placeholder="yyyy-mm-dd"
                     name="dp" ngbDatepicker #dStart="ngbDatepicker"
                     [formControl]="startDateForm">
              <div class="input-group-append">
                <span class="input-group-text" (click)="dStart.toggle()"><i class="fa fa-calendar"
                  aria-hidden="true"></i></span>
              </div>
            </div>
          </div>
          <div class="form-group col-6">
            <ngb-timepicker [spinners]="false" [formControl]="startTimeForm"></ngb-timepicker>
          </div>

        </div>
      </div>
      <div class="form-group col-6">
        <label for="inputEnd">End time *</label>
        <div class="form-row" id="inputEnd">
          <div class="form-group col-6">
            <div class="input-group">
              <input class="form-control" placeholder="yyyy-mm-dd"
                     name="dp" ngbDatepicker #dEnd="ngbDatepicker"
                     [formControl]="endDateForm">
              <div class="input-group-append">
                <span class="input-group-text" (click)="dEnd.toggle()"><i class="fa fa-calendar"
                  aria-hidden="true"></i></span>
              </div>
            </div>
          </div>
          <div class="form-group col-6">
            <ngb-timepicker [spinners]="false" [formControl]="endTimeForm"></ngb-timepicker>
          </div>
        </div>
      </div>
    </div>
    <div class="form-row">
      <div class="form-group col-md-6">
        <label for="inputLocation">Location</label>
        <input type="text" class="form-control" id="inputLocation" placeholder="Location" [formControl]="locationForm">
      </div>
      <div class="form-group col-md-6">
        <label for="inputPrice">Minimal price *</label>
        <input type="text" class="form-control" id="inputPrice" placeholder="Minimal price" [formControl]="priceForm">
      </div>
    </div>
    <div class="form-row">
      <div class="form-group col-md-6">
        <label for="inputDescription">Description</label>
          <textarea class="form-control" aria-label="With textarea" id="inputDescription"
                    placeholder="Description" [formControl]="descriptionForm"></textarea>
      </div>
      <div class="form-group col-md-6">
        <div class="form-row">
          <div class="form-group col-md-12">
            <label for="inputImage">Image *</label>
            <div class="custom-file" id="inputImage">
              <input type="file" class="custom-file-input" id="customFile" (change)="inputImage($event)" [formControl]="imageForm">
              <label class="custom-file-label" for="customFile">{{image}}</label>
            </div>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group col-md-12">
            <img src="{{imgPreview}}" alt="..." class="img-thumbnail" id="imagePreview">
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal-footer">
    <button type="submit" class="btn btn-primary">
      <!--    [disabled]="form.invalid">-->
          Save an auction</button>

  </div>
</form>
